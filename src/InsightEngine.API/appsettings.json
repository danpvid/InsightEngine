{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=InsightEngineDB;Trusted_Connection=True;MultipleActiveResultSets=true"
  },
  "UploadSettings": {
    "BasePath": "uploads",
    "MaxFileSizeBytes": 20971520,
    "ProfileSampleSize": 5000
  },
  "InsightEngineSettings": {
    "UploadMaxBytes": 20971520,
    "ScatterMaxPoints": 2000,
    "HistogramBinsMin": 5,
    "HistogramBinsMax": 50,
    "QueryResultMaxRows": 1000,
    "CacheTtlSeconds": 300,
    "DefaultTimeoutSeconds": 30,
    "RetentionDays": 30,
    "CleanupIntervalMinutes": 60
  },
  "MetadataPersistence": {
    "Enabled": true,
    "ConnectionString": "Data Source=App_Data/insightengine-metadata.db"
  },
  "LLM": {
    "Provider": "LocalHttp",
    "TimeoutSeconds": 20,
    "MaxTokens": 2048,
    "MaxContextBytes": 64000,
    "AskMaxQuestionChars": 600,
    "Temperature": 0.1,
    "EnableCaching": true,
    "LocalHttp": {
      "BaseUrl": "http://localhost:11434",
      "Model": "llama3",
      "AutoSelectInstalledModel": true,
      "FallbackModels": [ "llama3.2", "llama3.1", "llama3", "qwen2.5", "mistral", "phi4" ]
    },
    "DeepInsights": {
      "EvidenceVersion": "v1",
      "MaxEvidenceSeriesPoints": 400,
      "ForecastDefaultHorizon": 30,
      "ForecastMaxHorizon": 90,
      "ForecastMovingAverageWindow": 5,
      "MaxBreakdownSegments": 10,
      "MaxRequestsPerMinute": 12,
      "CooldownSeconds": 4
    },
    "Redaction": {
      "Enabled": true,
      "ColumnNamePatterns": [ "email", "mail", "phone", "mobile", "cpf", "ssn", "document", "address" ]
    }
  },
  "FileStorage": {
    "BasePath": "uploads"
  },
  "ChartExecution": {
    "GapFillMode": "Nulls",
    "EnableAutoDataZoom": true,
    "DataZoomThreshold": 200,
    "IncludeDebugSql": false,
    "ScatterMaxPoints": 2000,
    "TimeSeriesMaxPoints": 2000,
    "HistogramMinBins": 5,
    "HistogramMaxBins": 50
  },
  "ChartCache": {
    "TtlSeconds": 300
  },
  "ScenarioSimulation": {
    "MaxOperations": 3,
    "MaxFilters": 3,
    "MaxRowsReturned": 200
  },
  "JwtSettings": {
    "SecretKey": "InsightEngine-SecretKey-2026-SuperSecure-MinimumOf32Characters-ForHS256",
    "Issuer": "InsightEngine.API",
    "Audience": "InsightEngine.Client",
    "ExpirationInMinutes": 480
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
